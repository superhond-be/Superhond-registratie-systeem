<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Klanten & Honden beheer</title>
  <style>
    :root{
      --bg:#0f172a;
      --panel:#111827;
      --muted:#94a3b8;
      --text:#e5e7eb;
      --primary:#22c55e;
      --danger:#ef4444;
      --warning:#f59e0b;
      --ring:#34d399;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:linear-gradient(180deg,#0a0f1e 0%, #0b1220 100%);
      color:var(--text);
    }
    header{
      padding:18px 20px;
      border-bottom:1px solid rgba(255,255,255,.06);
      display:flex;justify-content:space-between;align-items:center;
      background:rgba(255,255,255,.02);backdrop-filter: blur(6px);
      position:sticky;top:0;z-index:5;
    }
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:36px;height:36px;border-radius:10px;
      background:conic-gradient(from 210deg at 50% 50%, #34d399, #22c55e, #16a34a, #34d399)}
    h1{font-size:18px;margin:0}
    .stats{display:flex;gap:12px;flex-wrap:wrap}
    .chip{padding:6px 10px;border-radius:999px;
      background:#0a0f1c;border:1px solid rgba(255,255,255,.08);
      color:var(--muted);font-size:13px}
    main{padding:22px;max-width:1200px;margin:0 auto}
    .grid{display:grid;gap:18px;grid-template-columns:1fr 1fr 1.2fr}
    @media (max-width:1000px){.grid{grid-template-columns:1fr}}
    .card{background:#0d1426;border:1px solid rgba(255,255,255,.08);border-radius:14px;
      padding:16px;box-shadow:inset 0 1px 0 rgba(255,255,255,.03), 0 10px 30px rgba(0,0,0,.25)}
    .card h2{font-size:16px;margin:0 0 12px}
    form{display:grid;gap:10px}
    label{font-size:13px;color:var(--muted)}
    input,select,button{font:inherit;color:var(--text)}
    .row{display:grid;gap:10px;grid-template-columns:1fr 1fr}
    @media (max-width:520px){.row{grid-template-columns:1fr}}
    input[type="text"],input[type="email"],input[type="tel"],input[type="number"],select{
      background:#0b1324;border:1px solid rgba(255,255,255,.08);
      border-radius:10px;padding:10px 12px;outline:none}
    input:focus,select:focus{border-color:var(--ring);box-shadow:0 0 0 3px rgba(52,211,153,.15)}
    .actions{display:flex;gap:8px;flex-wrap:wrap}
    .btn{border:1px solid rgba(255,255,255,.1);
      background:#0b1220;border-radius:10px;padding:10px 12px;
      cursor:pointer;transition:.15s;display:inline-flex;gap:8px;align-items:center}
    .btn.primary{background:linear-gradient(180deg,#16a34a,#15803d)}
    .btn.danger{background:linear-gradient(180deg,#ef4444,#b91c1c)}
    .btn.warning{background:linear-gradient(180deg,#f59e0b,#b45309)}
    .toolbar{display:flex;gap:10px;justify-content:space-between;margin-bottom:10px}
    .search{flex:1;display:flex;gap:8px}
    .list{display:flex;flex-direction:column;gap:10px;max-height:60vh;overflow:auto}
    .item{display:grid;gap:10px;grid-template-columns:1fr auto;
      padding:12px;border:1px solid rgba(255,255,255,.08);border-radius:12px;background:#0a1221}
    .item h3{margin:0 0 6px;font-size:15px}
    .muted{color:var(--muted);font-size:13px}
    .dog-list{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .tag{padding:4px 8px;border:1px solid rgba(255,255,255,.08);border-radius:999px;
      font-size:12px;background:#0b1528}
    .empty{color:var(--muted);text-align:center;padding:14px;border:1px dashed rgba(255,255,255,.12);border-radius:12px}
    .sep{height:1px;background:rgba(255,255,255,.08);margin:10px 0}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo"></div>
      <h1>Klanten & Honden beheer</h1>
    </div>
    <div class="stats">
      <div class="chip" id="statCustomers">Klanten: 0</div>
      <div class="chip" id="statDogs">Honden: 0</div>
      <div class="chip" id="statAvg">Gem./klant: 0</div>
    </div>
  </header>

  <main>
    <div class="grid">
      <!-- klantformulier -->
      <section class="card">
        <h2>Nieuwe/te bewerken klant</h2>
        <form id="customerForm">
          <input type="hidden" id="customerId">
          <div class="row">
            <div><label>Naam*</label><input id="customerName" required></div>
            <div><label>Telefoon</label><input id="customerPhone"></div>
          </div>
          <div class="row">
            <div><label>E-mail</label><input id="customerEmail" type="email"></div>
            <div><label>Notities</label><input id="customerNotes"></div>
          </div>
          <div class="row">
            <div><label>Straat + nr</label><input id="customerStreet"></div>
            <div><label>Postcode</label><input id="customerPostcode"></div>
          </div>
          <div class="row">
            <div><label>Plaats</label><input id="customerCity"></div>
          </div>
          <div class="actions">
            <button class="btn primary" type="submit">Opslaan klant</button>
            <button class="btn" type="reset">Leegmaken</button>
          </div>
        </form>
      </section>

      <!-- hondformulier -->
      <section class="card">
        <h2>Nieuwe/te bewerken hond</h2>
        <form id="dogForm">
          <input type="hidden" id="dogId">
          <div class="row">
            <div><label>Klant*</label><select id="dogOwner"></select></div>
            <div><label>Naam*</label><input id="dogName" required></div>
          </div>
          <div class="row">
            <div><label>Ras</label><input id="dogBreed"></div>
            <div><label>Leeftijd</label><input id="dogAge" type="number"></div>
          </div>
          <div><label>Notities</label><input id="dogNotes"></div>
          <div class="actions">
            <button class="btn primary" type="submit">Opslaan hond</button>
            <button class="btn" type="reset">Leegmaken</button>
          </div>
        </form>
      </section>

      <!-- overzicht -->
      <section class="card">
        <h2>Overzicht</h2>
        <div class="list" id="customerList"><div class="empty">Nog geen klanten</div></div>
      </section>
    </div>
  </main>

  <script>
    let customers=[], dogs=[], seq=1;
    const el=id=>document.getElementById(id);
    function save(){localStorage.setItem("C",JSON.stringify(customers));localStorage.setItem("D",JSON.stringify(dogs));localStorage.setItem("S",seq)}
    function load(){customers=JSON.parse(localStorage.getItem("C")||"[]");dogs=JSON.parse(localStorage.getItem("D")||"[]");seq=+localStorage.getItem("S")||1}
    function nextId(){return seq++}
    function render(){
      el("dogOwner").innerHTML='<option value="">‚Äî kies klant ‚Äî</option>'+customers.map(c=>`<option value="${c.id}">${c.name}</option>`).join("");
      const list=el("customerList");list.innerHTML="";
      if(!customers.length){list.innerHTML='<div class="empty">Nog geen klanten</div>';return;}
      customers.forEach(c=>{
        const ds=dogs.filter(d=>d.customerId===c.id);
        const div=document.createElement("div");
        div.className="item";
        div.innerHTML=`<div><h3>${c.name}</h3><div class="muted">${c.street||""} ${c.postcode||""} ${c.city||""}</div><div class="dog-list">${ds.length?ds.map(d=>`<span class="tag">üê∂ ${d.name}</span>`).join(""):"<span class='tag'>Geen honden</span>"}</div></div>`;
        list.appendChild(div);
      });
      el("statCustomers").textContent="Klanten: "+customers.length;
      el("statDogs").textContent="Honden: "+dogs.length;
      el("statAvg").textContent="Gem./klant: "+(customers.length?(dogs.length/customers.length).toFixed(2):0);
    }
    el("customerForm").onsubmit=e=>{
      e.preventDefault();
      const id=el("customerId").value;
      const data={id:id?+id:nextId(),name:el("customerName").value,phone:el("customerPhone").value,email:el("customerEmail").value,notes:el("customerNotes").value,street:el("customerStreet").value,postcode:el("customerPostcode").value,city:el("customerCity").value};
      if(id){const i=customers.findIndex(c=>c.id==id);customers[i]=data;}else{customers.push(data);}
      save();render();e.target.reset();
    }
    el("dogForm").onsubmit=e=>{
      e.preventDefault();
      const id=el("dogId").value;
      const data={id:id?+id:nextId(),customerId:+el("dogOwner").value,name:el("dogName").value,breed:el("dogBreed").value,age:+el("dogAge").value,notes:el("dogNotes").value};
      if(id){const i=dogs.findIndex(d=>d.id==id);dogs[i]=data;}else{dogs.push(data);}
      save();render();e.target.reset();
    }
    load();render();
  </script>
</body>
</html>
